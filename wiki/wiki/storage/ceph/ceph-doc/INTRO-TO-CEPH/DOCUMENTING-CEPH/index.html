<!doctype html><html lang=en><head><meta charset=utf-8><meta name=description content="DOCUMENTING CEPH DOCUMENTING CEPH The easiest way to help the Ceph project is to contribute to the documentation. As the Ceph user base grows and the development pace quickens, an increasing number of people are updating the documentation and adding new information."><title>DOCUMENTING_CEPH_d2b83f89d09d4846be712e5562827f54</title><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" type=image/png href=https://lzyerste.github.io/quartz//icon.png><link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Source+Sans+Pro:wght@400;600;700&family=Fira+Code:wght@400;700&display=swap" rel=stylesheet><link href=https://lzyerste.github.io/quartz/styles.48db36360688fe00f0a39f3cf1417c4b.min.css rel=stylesheet><script src=https://lzyerste.github.io/quartz/js/darkmode.46b07878b7f5d9e26ad7a3c40f8a0605.min.js></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css integrity=sha384-R4558gYOUz8mP9YWpZJjofhk+zx0AS11p36HnD2ZKj/6JR5z27gSSULCNHIRReVs crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js integrity=sha384-z1fJDqw8ZApjGO3/unPWUPsIymfsJmyrDVWC8Tv/a1HeOtGmkwNd/7xUS0Xcnvsx crossorigin=anonymous></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/contrib/auto-render.min.js integrity=sha384-+XBljXPPiv+OzfbB3cVmLHf4hdUFHlWNZN5spNQ7rmHTXpd7WvJum6fIACpNNfIR crossorigin=anonymous></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1}],throwOnError:!1})})</script><script>const BASE_URL="https://lzyerste.github.io/quartz/",fetchData=Promise.all([fetch("https://lzyerste.github.io/quartz/indices/linkIndex.9237445710772a6f9c5410ae54d23cdb.min.json").then(e=>e.json()).then(e=>({index:e.index,links:e.links})),fetch("https://lzyerste.github.io/quartz/indices/contentIndex.10c1bb9573d452d54711cba19f8c0494.min.json").then(e=>e.json())]).then(([{index:e,links:t},n])=>({index:e,links:t,content:n}))</script></head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XYFD95KB4J"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-XYFD95KB4J",{anonymize_ip:!1})}</script><body><div id=search-container><div id=search-space><input autocomplete=off id=search-bar name=search type=text aria-label=Search placeholder="Search for something..."><div id=results-container></div></div></div><script src=https://cdn.jsdelivr.net/npm/flexsearch@0.7.21/dist/flexsearch.bundle.js integrity="sha256-i3A0NZGkhsKjVMzFxv3ksk0DZh3aXqu0l49Bbh0MdjE=" crossorigin=anonymous defer></script>
<script defer src=https://lzyerste.github.io/quartz/js/search.7861a82db330f0a40935b7458fee3a02.min.js></script><div class=singlePage><header><h1 id=page-title><a href=https://lzyerste.github.io/quartz/>ðŸª´ Quartz 3.2</a></h1><svg tabindex="0" id="search-icon" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search Icon</title><desc id="desc">Icon to open search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"/><circle cx="8" cy="8" r="7"/></g></svg><div class=spacer></div><div class=darkmode><input class=toggle id=darkmode-toggle type=checkbox tabindex=-1>
<label id=toggle-label-light for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="dayIcon" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35"><title>Light Mode</title><path d="M6 17.5C6 16.672 5.328 16 4.5 16h-3C.672 16 0 16.672.0 17.5S.672 19 1.5 19h3C5.328 19 6 18.328 6 17.5zM7.5 26c-.414.0-.789.168-1.061.439l-2 2C4.168 28.711 4 29.086 4 29.5 4 30.328 4.671 31 5.5 31c.414.0.789-.168 1.06-.44l2-2C8.832 28.289 9 27.914 9 27.5 9 26.672 8.329 26 7.5 26zm10-20C18.329 6 19 5.328 19 4.5v-3C19 .672 18.329.0 17.5.0S16 .672 16 1.5v3C16 5.328 16.671 6 17.5 6zm10 3c.414.0.789-.168 1.06-.439l2-2C30.832 6.289 31 5.914 31 5.5 31 4.672 30.329 4 29.5 4c-.414.0-.789.168-1.061.44l-2 2C26.168 6.711 26 7.086 26 7.5 26 8.328 26.671 9 27.5 9zM6.439 8.561C6.711 8.832 7.086 9 7.5 9 8.328 9 9 8.328 9 7.5c0-.414-.168-.789-.439-1.061l-2-2C6.289 4.168 5.914 4 5.5 4 4.672 4 4 4.672 4 5.5c0 .414.168.789.439 1.06l2 2.001zM33.5 16h-3c-.828.0-1.5.672-1.5 1.5s.672 1.5 1.5 1.5h3c.828.0 1.5-.672 1.5-1.5S34.328 16 33.5 16zM28.561 26.439C28.289 26.168 27.914 26 27.5 26c-.828.0-1.5.672-1.5 1.5.0.414.168.789.439 1.06l2 2C28.711 30.832 29.086 31 29.5 31c.828.0 1.5-.672 1.5-1.5.0-.414-.168-.789-.439-1.061l-2-2zM17.5 29c-.829.0-1.5.672-1.5 1.5v3c0 .828.671 1.5 1.5 1.5s1.5-.672 1.5-1.5v-3C19 29.672 18.329 29 17.5 29zm0-22C11.71 7 7 11.71 7 17.5S11.71 28 17.5 28 28 23.29 28 17.5 23.29 7 17.5 7zm0 18c-4.136.0-7.5-3.364-7.5-7.5s3.364-7.5 7.5-7.5 7.5 3.364 7.5 7.5S21.636 25 17.5 25z"/></svg></label><label id=toggle-label-dark for=darkmode-toggle tabindex=-1><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="nightIcon" viewBox="0 0 100 100" style="enable-background='new 0 0 100 100'"><title>Dark Mode</title><path d="M96.76 66.458c-.853-.852-2.15-1.064-3.23-.534-6.063 2.991-12.858 4.571-19.655 4.571C62.022 70.495 50.88 65.88 42.5 57.5 29.043 44.043 25.658 23.536 34.076 6.47c.532-1.08.318-2.379-.534-3.23-.851-.852-2.15-1.064-3.23-.534-4.918 2.427-9.375 5.619-13.246 9.491-9.447 9.447-14.65 22.008-14.65 35.369.0 13.36 5.203 25.921 14.65 35.368s22.008 14.65 35.368 14.65c13.361.0 25.921-5.203 35.369-14.65 3.872-3.871 7.064-8.328 9.491-13.246C97.826 68.608 97.611 67.309 96.76 66.458z"/></svg></label></div></header><article><h1>DOCUMENTING_CEPH_d2b83f89d09d4846be712e5562827f54</h1><p class=meta>Last updated May 9, 2022</p><ul class=tags></ul><aside class=mainTOC><details><summary>Table of Contents</summary><nav id=TableOfContents><ol><li><a href=#making-contributions><strong>MAKING CONTRIBUTIONS</strong></a><ol><li><a href=#get-the-source><strong>GET THE SOURCE</strong></a></li><li><a href=#select-a-branch><strong>SELECT A BRANCH</strong></a></li><li><a href=#make-a-change><strong>MAKE A CHANGE</strong></a></li><li><a href=#build-the-source><strong>BUILD THE SOURCE</strong></a></li><li><a href=#build-the-source-first-time><strong>BUILD THE SOURCE (FIRST TIME)</strong></a></li><li><a href=#commit-the-change><strong>COMMIT THE CHANGE</strong></a></li><li><a href=#push-the-change><strong>PUSH THE CHANGE</strong></a></li><li><a href=#make-a-pull-request><strong>MAKE A PULL REQUEST</strong></a></li><li><a href=#notify-us><strong>NOTIFY US</strong></a></li></ol></li><li><a href=#documentation-style-guide><strong>DOCUMENTATION STYLE GUIDE</strong></a><ol><li><a href=#headings><strong>HEADINGS</strong></a></li><li><a href=#text-body><strong>TEXT BODY</strong></a></li><li><a href=#paragraph-level-markup><strong>PARAGRAPH LEVEL MARKUP</strong></a></li><li><a href=#toc-and-hyperlinks><strong>TOC AND HYPERLINKS</strong></a></li></ol></li></ol></nav></details></aside><h1 id=documenting-ceph>DOCUMENTING CEPH</h1><h1 id=documenting-ceph-1><strong>DOCUMENTING CEPH</strong></h1><p>The <strong>easiest way</strong> to help the Ceph project is to contribute to the documentation. As the Ceph user base grows and the development pace quickens, an increasing number of people are updating the documentation and adding new information. Even small contributions like fixing spelling errors or clarifying instructions will help the Ceph project immensely.</p><p>The Ceph documentation source resides in the <code>ceph/doc</code> directory of the Ceph repository, and Python Sphinx renders the source into HTML and manpages. The
<a href=http://ceph.com/docs rel=noopener>http://ceph.com/docs</a> link currently displays the <code>master</code> branch by default, but you may view documentation for older branches (e.g., <code>argonaut</code>) or future branches (e.g., <code>next</code>) as well as work-in-progress branches by substituting <code>master</code> with the branch name you prefer.</p><h2 id=making-contributions><strong>MAKING CONTRIBUTIONS</strong></h2><p>Making a documentation contribution generally involves the same procedural sequence as making a code contribution, except that you must build documentation source instead of compiling program source. The sequence includes the following steps:</p><ol><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#get-the-source rel=noopener>Get the Source</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#select-a-branch rel=noopener>Select a Branch</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#make-a-change rel=noopener>Make a Change</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#build-the-source rel=noopener>Build the Source</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#commit-the-change rel=noopener>Commit the Change</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#push-the-change rel=noopener>Push the Change</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#make-a-pull-request rel=noopener>Make a Pull Request</a></li><li><a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#notify-us rel=noopener>Notify Us</a></li></ol><h3 id=get-the-source><strong>GET THE SOURCE</strong></h3><p>Ceph documentation lives in the Ceph repository right alongside the Ceph source code under the <code>ceph/doc</code> directory. For details on github and Ceph, see
<a href=https://docs.ceph.com/docs/master/start/get-involved/#get-involved rel=noopener>Get Involved in the Ceph Community!</a>.</p><p>The most common way to make contributions is to use the
<a href=https://help.github.com/articles/using-pull-requests rel=noopener>Fork and Pull</a> approach. You must:</p><ol><li><p>Install git locally. For Debian/Ubuntu, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install git
</span></span></code></pre></td></tr></table></div></div><p>For Fedora, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install git
</span></span></code></pre></td></tr></table></div></div><p>For CentOS/RHEL, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install git
</span></span></code></pre></td></tr></table></div></div></li><li><p>Ensure your <code>.gitconfig</code> file has your name and email address.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[user]
</span></span><span class=line><span class=cl> Â  email = {your-email-address}
</span></span><span class=line><span class=cl> Â  name = {your-name}
</span></span></code></pre></td></tr></table></div></div><p>For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git config --global user.name &#34;John Doe&#34;
</span></span><span class=line><span class=cl>git config --global user.email johndoe@example.com
</span></span></code></pre></td></tr></table></div></div></li><li><p>Create a
<a href=http://github.com/ rel=noopener>github</a> account (if you donâ€™t have one).</p></li><li><p>Fork the Ceph project. See
<a href=https://github.com/ceph/ceph rel=noopener>https://github.com/ceph/ceph</a>.</p></li><li><p>Clone your fork of the Ceph project to your local host.</p></li></ol><p>Ceph organizes documentation into an information architecture primarily by its main components.</p><ul><li><strong>Ceph Storage Cluster:</strong> The Ceph Storage Cluster documentation resides under the <code>doc/rados</code> directory.</li><li><strong>Ceph Block Device:</strong> The Ceph Block Device documentation resides under the <code>doc/rbd</code> directory.</li><li><strong>Ceph Object Storage:</strong> The Ceph Object Storage documentation resides under the <code>doc/radosgw</code> directory.</li><li><strong>Ceph File System:</strong> The Ceph File System documentation resides under the <code>doc/cephfs</code> directory.</li><li><strong>Installation (Quick):</strong> Quick start documentation resides under the <code>doc/start</code> directory.</li><li><strong>Installation (Manual):</strong> Manual installation documentation resides under the <code>doc/install</code> directory.</li><li><strong>Manpage:</strong> Manpage source resides under the <code>doc/man</code> directory.</li><li><strong>Developer:</strong> Developer documentation resides under the <code>doc/dev</code> directory.</li><li><strong>Images:</strong> If you include images such as JPEG or PNG files, you should store them under the <code>doc/images</code> directory.</li></ul><h3 id=select-a-branch><strong>SELECT A BRANCH</strong></h3><p>When you make small changes to the documentation, such as fixing typographical errors or clarifying explanations, use the <code>master</code> branch (default). You should also use the <code>master</code> branch when making contributions to features that are in the current release. <code>master</code> is the most commonly used branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git checkout master
</span></span></code></pre></td></tr></table></div></div><p>When you make changes to documentation that affect an upcoming release, use the <code>next</code> branch. <code>next</code> is the second most commonly used branch.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git checkout next
</span></span></code></pre></td></tr></table></div></div><p>When you are making substantial contributions such as new features that are not yet in the current release; if your contribution is related to an issue with a tracker ID; or, if you want to see your documentation rendered on the Ceph.com website before it gets merged into the <code>master</code> branch, you should create a branch. To distinguish branches that include only documentation updates, we prepend them with <code>wip-doc</code> by convention, following the form <code>wip-doc-{your-branch-name}</code>. If the branch relates to an issue filed in
<a href=http://tracker.ceph.com/issues rel=noopener>http://tracker.ceph.com/issues</a>, the branch name incorporates the issue number. For example, if a documentation branch is a fix for issue #4000, the branch name should be <code>wip-doc-4000</code> by convention and the relevant tracker URL will be
<a href=http://tracker.ceph.com/issues/4000 rel=noopener>http://tracker.ceph.com/issues/4000</a>.</p><p>Note</p><p>Please do not mingle documentation contributions and source code contributions in a single commit. When you keep documentation commits separate from source code commits, it simplifies the review process. We highly recommend that any pull request that adds a feature or a configuration option, should also include a documentation commit, describing the relevant changes/options.</p><p>Before you create your branch name, ensure that it doesnâ€™t already exist in the local or remote repository.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git branch -a | grep wip-doc-{your-branch-name}
</span></span></code></pre></td></tr></table></div></div><p>If it doesnâ€™t exist, create your branch:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git checkout -b wip-doc-{your-branch-name}
</span></span></code></pre></td></tr></table></div></div><h3 id=make-a-change><strong>MAKE A CHANGE</strong></h3><p>Modifying a document involves opening a restructuredText file, changing its contents, and saving the changes. See
<a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#documentation-style-guide rel=noopener>Documentation Style Guide</a> for details on syntax requirements.</p><p>Adding a document involves creating a new restructuredText file under the <code>doc</code> directory or its subdirectories and saving the file with a <code>*.rst</code> file extension. You must also include a reference to the document: a hyperlink or a table of contents entry. The <code>index.rst</code> file of a top-level directory usually contains a TOC, where you can add the new file name. All documents must have a title. See
<a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#headings rel=noopener>Headings</a> for details.</p><p>Your new document doesnâ€™t get tracked by <code>git</code> automatically. When you want to add the document to the repository, you must use <code>git add {path-to-filename}</code>. For example, from the top level directory of the repository, adding an <code>example.rst</code> file to the <code>rados</code> subdirectory would look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git add doc/rados/example.rst
</span></span></code></pre></td></tr></table></div></div><p>Deleting a document involves removing it from the repository with <code>git rm {path-to-filename}</code>. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git rm doc/rados/example.rst
</span></span></code></pre></td></tr></table></div></div><p>You must also remove any reference to a deleted document from other documents.</p><h3 id=build-the-source><strong>BUILD THE SOURCE</strong></h3><p>To build the documentation, navigate to the <code>ceph</code> repository directory:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cd ceph
</span></span></code></pre></td></tr></table></div></div><p>To build the documentation on Debian/Ubuntu, Fedora, or CentOS/RHEL, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>admin/build-doc
</span></span></code></pre></td></tr></table></div></div><p>To scan for the reachability of external links, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>admin/build-doc linkcheck
</span></span></code></pre></td></tr></table></div></div><p>Executing <code>admin/build-doc</code> will create a <code>build-doc</code> directory under <code>ceph</code>. You may need to create a directory under <code>ceph/build-doc</code> for output of Javadoc files.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>mkdir -p output/html/api/libcephfs-java/javadoc
</span></span></code></pre></td></tr></table></div></div><p>The build script <code>build-doc</code> will produce an output of errors and warnings. You MUST fix errors in documents you modified before committing a change, and you SHOULD fix warnings that are related to syntax you modified.</p><p>Important</p><p>You must validate ALL HYPERLINKS. If a hyperlink is broken, it automatically breaks the build!</p><p>Once you build the documentation set, you may start an HTTP server at <code>http://localhost:8080/</code> to view it:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>admin/serve-doc
</span></span></code></pre></td></tr></table></div></div><p>You can also navigate to <code>build-doc/output</code> to inspect the built documents. There should be an <code>html</code> directory and a <code>man</code> directory containing documentation in HTML and manpage formats respectively.</p><h3 id=build-the-source-first-time><strong>BUILD THE SOURCE (FIRST TIME)</strong></h3><p>Ceph uses Python Sphinx, which is generally distribution agnostic. The first time you build Ceph documentation, it will generate a doxygen XML tree, which is a bit time consuming.</p><p>Python Sphinx does have some dependencies that vary across distributions. The first time you build the documentation, the script will notify you if you do not have the dependencies installed. To run Sphinx and build documentation successfully, the following packages are required:</p><p><a rel=noopener class="internal-link broken" data-src=assets/Untitled%20Database%20984800aed3b8413eb32f5f4b1f2f5b09.csv>Untitled</a></p><p>Install each dependency that is not installed on your host. For Debian/Ubuntu distributions, execute the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install gcc python-dev python-pip python-virtualenv libxml2-dev libxslt-dev doxygen graphviz ant ditaa
</span></span><span class=line><span class=cl>sudo apt-get install python-sphinx
</span></span></code></pre></td></tr></table></div></div><p>For Fedora distributions, execute the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install gcc python-devel python-pip python-virtualenv libxml2-devel libxslt-devel doxygen graphviz ant
</span></span><span class=line><span class=cl>sudo pip install html2text
</span></span><span class=line><span class=cl>sudo yum install python-jinja2 python-pygments python-docutils python-sphinx
</span></span><span class=line><span class=cl>sudo yum install jericho-html ditaa
</span></span></code></pre></td></tr></table></div></div><p>For CentOS/RHEL distributions, it is recommended to have <code>epel</code> (Extra Packages for Enterprise Linux) repository as it provides some extra packages which are not available in the default repository. To install <code>epel</code>, execute the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm
</span></span></code></pre></td></tr></table></div></div><p>For CentOS/RHEL distributions, execute the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install gcc python-devel python-pip python-virtualenv libxml2-devel libxslt-devel doxygen graphviz ant
</span></span><span class=line><span class=cl>sudo pip install html2text
</span></span></code></pre></td></tr></table></div></div><p>For CentOS/RHEL distributions, the remaining python packages are not available in the default and <code>epel</code> repositories. So, use
<a href=http://rpmfind.net/ rel=noopener>http://rpmfind.net/</a> to find the packages. Then, download them from a mirror and install them. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>wget http://rpmfind.net/linux/centos/7/os/x86_64/Packages/python-jinja2-2.7.2-2.el7.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install python-jinja2-2.7.2-2.el7.noarch.rpm
</span></span><span class=line><span class=cl>wget http://rpmfind.net/linux/centos/7/os/x86_64/Packages/python-pygments-1.4-9.el7.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install python-pygments-1.4-9.el7.noarch.rpm
</span></span><span class=line><span class=cl>wget http://rpmfind.net/linux/centos/7/os/x86_64/Packages/python-docutils-0.11-0.2.20130715svn7687.el7.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install python-docutils-0.11-0.2.20130715svn7687.el7.noarch.rpm
</span></span><span class=line><span class=cl>wget http://rpmfind.net/linux/centos/7/os/x86_64/Packages/python-sphinx-1.1.3-11.el7.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install python-sphinx-1.1.3-11.el7.noarch.rpm
</span></span></code></pre></td></tr></table></div></div><p>Ceph documentation makes extensive use of
<a href=http://ditaa.sourceforge.net/ rel=noopener>ditaa</a>, which is not presently built for CentOS/RHEL7. You must install <code>ditaa</code> if you are making changes to <code>ditaa</code> diagrams so that you can verify that they render properly before you commit new or modified <code>ditaa</code> diagrams. You may retrieve compatible required packages for CentOS/RHEL distributions and install them manually. To run <code>ditaa</code> on CentOS/RHEL7, following dependencies are required:</p><ul><li>jericho-html</li><li>jai-imageio-core</li><li>batik</li></ul><p>Use
<a href=http://rpmfind.net/ rel=noopener>http://rpmfind.net/</a> to find compatible <code>ditaa</code> and the dependencies. Then, download them from a mirror and install them. For example:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>wget http://rpmfind.net/linux/fedora/linux/releases/22/Everything/x86_64/os/Packages/j/jericho-html-3.3-4.fc22.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install jericho-html-3.3-4.fc22.noarch.rpm
</span></span><span class=line><span class=cl>wget http://rpmfind.net/linux/centos/7/os/x86_64/Packages/jai-imageio-core-1.2-0.14.20100217cvs.el7.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install jai-imageio-core-1.2-0.14.20100217cvs.el7.noarch.rpm
</span></span><span class=line><span class=cl>wget http://rpmfind.net/linux/centos/7/os/x86_64/Packages/batik-1.8-0.12.svn1230816.el7.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install batik-1.8-0.12.svn1230816.el7.noarch.rpm
</span></span><span class=line><span class=cl>wget http://rpmfind.net/linux/fedora/linux/releases/22/Everything/x86_64/os/Packages/d/ditaa-0.9-13.r74.fc21.noarch.rpm
</span></span><span class=line><span class=cl>sudo yum install ditaa-0.9-13.r74.fc21.noarch.rpm
</span></span></code></pre></td></tr></table></div></div><p>Once you have installed all these packages, build the documentation by following the steps given in
<a href=https://docs.ceph.com/docs/master/start/documenting-ceph/#build-the-source rel=noopener>Build the Source</a>.</p><h3 id=commit-the-change><strong>COMMIT THE CHANGE</strong></h3><p>Ceph documentation commits are simple, but follow a strict convention:</p><ul><li>A commit SHOULD have 1 file per commit (it simplifies rollback). You MAY commit multiple files with related changes. Unrelated changes SHOULD NOT be put into the same commit.</li><li>A commit MUST have a comment.</li><li>A commit comment MUST be prepended with <code>doc:</code>. (strict)</li><li>The comment summary MUST be one line only. (strict)</li><li>Additional comments MAY follow a blank line after the summary, but should be terse.</li><li>A commit MAY include <code>Fixes: #{bug number}</code>.</li><li>Commits MUST include <code>Signed-off-by: Firstname Lastname &lt;email></code>. (strict)</li></ul><p>Tip</p><p>Follow the foregoing convention particularly where it says <code>(strict)</code> or you will be asked to modify your commit to comply with this convention.</p><p>The following is a common commit comment (preferred):</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>doc: Fixes a spelling error and a broken hyperlink.
</span></span><span class=line><span class=cl>â€‹
</span></span><span class=line><span class=cl>Signed-off-by: John Doe &lt;john.doe@gmail.com&gt;
</span></span></code></pre></td></tr></table></div></div><p>The following comment includes a reference to a bug.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>doc: Fixes a spelling error and a broken hyperlink.
</span></span><span class=line><span class=cl>â€‹
</span></span><span class=line><span class=cl>Fixes: #1234
</span></span><span class=line><span class=cl>â€‹
</span></span><span class=line><span class=cl>Signed-off-by: John Doe &lt;john.doe@gmail.com&gt;
</span></span></code></pre></td></tr></table></div></div><p>The following comment includes a terse sentence following the comment summary. There is a carriage return between the summary line and the description:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>doc: Added mon setting to monitor config reference
</span></span><span class=line><span class=cl>â€‹
</span></span><span class=line><span class=cl>Describes &#39;mon setting&#39;, which is a new setting added
</span></span><span class=line><span class=cl>to config_opts.h.
</span></span><span class=line><span class=cl>â€‹
</span></span><span class=line><span class=cl>Signed-off-by: John Doe &lt;john.doe@gmail.com&gt;
</span></span></code></pre></td></tr></table></div></div><p>To commit changes, execute the following:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git commit -a
</span></span></code></pre></td></tr></table></div></div><p>An easy way to manage your documentation commits is to use visual tools for <code>git</code>. For example, <code>gitk</code> provides a graphical interface for viewing the repository history, and <code>git-gui</code> provides a graphical interface for viewing your uncommitted changes, staging them for commit, committing the changes and pushing them to your forked Ceph repository.</p><p>For Debian/Ubuntu, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo apt-get install gitk git-gui
</span></span></code></pre></td></tr></table></div></div><p>For Fedora/CentOS/RHEL, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>sudo yum install gitk git-gui
</span></span></code></pre></td></tr></table></div></div><p>Then, execute:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>cd {git-ceph-repo-path}
</span></span><span class=line><span class=cl>gitk
</span></span></code></pre></td></tr></table></div></div><p>Finally, select <strong>File->Start git gui</strong> to activate the graphical user interface.</p><h3 id=push-the-change><strong>PUSH THE CHANGE</strong></h3><p>Once you have one or more commits, you must push them from the local copy of the repository to <code>github</code>. A graphical tool like <code>git-gui</code> provides a user interface for pushing to the repository. If you created a branch previously:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git push origin wip-doc-{your-branch-name}
</span></span></code></pre></td></tr></table></div></div><p>Otherwise:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>git push
</span></span></code></pre></td></tr></table></div></div><h3 id=make-a-pull-request><strong>MAKE A PULL REQUEST</strong></h3><p>As noted earlier, you can make documentation contributions using the
<a href=https://help.github.com/articles/using-pull-requests rel=noopener>Fork and Pull</a> approach.</p><h3 id=notify-us><strong>NOTIFY US</strong></h3><p>After you make a pull request, please email
<a rel=noopener class="internal-link broken" data-src=mailto:ceph-docs%40redhat.com>ceph-docs@redhat.com</a>.</p><h2 id=documentation-style-guide><strong>DOCUMENTATION STYLE GUIDE</strong></h2><p>One objective of the Ceph documentation project is to ensure the readability of the documentation in both native restructuredText format and its rendered formats such as HTML. Navigate to your Ceph repository and view a document in its native format. You may notice that it is generally as legible in a terminal as it is in its rendered HTML format. Additionally, you may also notice that diagrams in <code>ditaa</code> format also render reasonably well in text mode.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>less doc/architecture.rst
</span></span></code></pre></td></tr></table></div></div><p>Review the following style guides to maintain this consistency.</p><h3 id=headings><strong>HEADINGS</strong></h3><ol><li><strong>Document Titles:</strong> Document titles use the <code>=</code> character overline and underline with a leading and trailing space on the title text line. See
<a href=http://docutils.sourceforge.net/docs/user/rst/quickstart.html#document-title-subtitle rel=noopener>Document Title</a> for details.</li><li><strong>Section Titles:</strong> Section tiles use the <code>=</code> character underline with no leading or trailing spaces for text. Two carriage returns should precede a section title (unless an inline reference precedes it). See
<a href=http://docutils.sourceforge.net/docs/user/rst/quickstart.html#sections rel=noopener>Sections</a> for details.</li><li><strong>Subsection Titles:</strong> Subsection titles use the <code>_</code> character underline with no leading or trailing spaces for text. Two carriage returns should precede a subsection title (unless an inline reference precedes it).</li></ol><h3 id=text-body><strong>TEXT BODY</strong></h3><p>As a general rule, we prefer text to wrap at column 80 so that it is legible in a command line interface without leading or trailing white space. Where possible, we prefer to maintain this convention with text, lists, literal text (exceptions allowed), tables, and <code>ditaa</code> graphics.</p><ol><li><p><strong>Paragraphs</strong>: Paragraphs have a leading and a trailing carriage return, and should be 80 characters wide or less so that the documentation can be read in native format in a command line terminal.</p></li><li><p><strong>Literal Text:</strong> To create an example of literal text (e.g., command line usage), terminate the preceding paragraph with <code>::</code> or enter a carriage return to create an empty line after the preceding paragraph; then, enter <code>::</code> on a separate line followed by another empty line. Then, begin the literal text with tab indentation (preferred) or space indentation of 3 characters.</p></li><li><p><strong>Indented Text:</strong> Indented text such as bullet points (e.g., <code>- some text</code>) may span multiple lines. The text of subsequent lines should begin at the same character position as the text of the indented text (less numbers, bullets, etc.).</p><p>Indented text may include literal text examples. Whereas, text indentation should be done with spaces, literal text examples should be indented with tabs. This convention enables you to add an additional indented paragraph following a literal example by leaving a blank line and beginning the subsequent paragraph with space indentation.</p></li><li><p><strong>Numbered Lists:</strong> Numbered lists should use autonumbering by starting a numbered indent with <code>#.</code> instead of the actual number so that numbered paragraphs can be repositioned without requiring manual renumbering.</p></li><li><p><strong>Code Examples:</strong> Ceph supports the use of the <code>.. code-block::&lt;language></code> role, so that you can add highlighting to source examples. This is preferred for source code. However, use of this tag will cause autonumbering to restart at 1 if it is used as an example within a numbered list. See
<a href=http://sphinx-doc.org/markup/code.html rel=noopener>Showing code examples</a> for details.</p></li></ol><h3 id=paragraph-level-markup><strong>PARAGRAPH LEVEL MARKUP</strong></h3><p>The Ceph project uses
<a href=http://sphinx-doc.org/markup/para.html rel=noopener>paragraph level markup</a> to highlight points.</p><ol><li><strong>Tip:</strong> Use the <code>.. tip::</code> directive to provide additional information that assists the reader or steers the reader away from trouble.</li><li><strong>Note</strong>: Use the <code>.. note::</code> directive to highlight an important point.</li><li><strong>Important:</strong> Use the <code>.. important::</code> directive to highlight important requirements or caveats (e.g., anything that could lead to data loss). Use this directive sparingly, because it renders in red.</li><li><strong>Version Added:</strong> Use the <code>.. versionadded::</code> directive for new features or configuration settings so that users know the minimum release for using a feature.</li><li><strong>Version Changed:</strong> Use the <code>.. versionchanged::</code> directive for changes in usage or configuration settings.</li><li><strong>Deprecated:</strong> Use the <code>.. deprecated::</code> directive when CLI usage, a feature or a configuration setting is no longer preferred or will be discontinued.</li><li><strong>Topic:</strong> Use the <code>.. topic::</code> directive to encapsulate text that is outside the main flow of the document. See the
<a href=http://docutils.sourceforge.net/docs/ref/rst/directives.html#topic rel=noopener>topic directive</a> for additional details.</li></ol><h3 id=toc-and-hyperlinks><strong>TOC AND HYPERLINKS</strong></h3><p>All documents must be linked from another document or a table of contents, otherwise you will receive a warning when building the documentation.</p><p>The Ceph project uses the <code>.. toctree::</code> directive. See
<a href=http://sphinx-doc.org/markup/toctree.html rel=noopener>The TOC tree</a> for details. When rendering a TOC, consider specifying the <code>:maxdepth:</code> parameter so the rendered TOC is reasonably terse.</p><p>Document authors should prefer to use the <code>:ref:</code> syntax where a link target contains a specific unique identifier (e.g., <code>.. _unique-target-id:</code>), and a reference to the target specifically references the target (e.g., <code>:ref:</code>unique-target-id``) so that if source files are moved or the information architecture changes, the links will still work. See
<a href=http://www.sphinx-doc.org/en/master/usage/restructuredtext/roles.html#role-ref rel=noopener>Cross referencing arbitrary locations</a> for details.</p><p>Ceph documentation also uses the backtick (accent grave) character followed by the link text, another backtick and an underscore. Sphinx allows you to incorporate the link destination inline; however, we prefer to use the use the <code>.. _Link Text: ../path</code> convention at the bottom of the document, because it improves the readability of the document in a command line interface.</p></article><hr><div class=page-end><div class=backlinks-container><h3>Backlinks</h3><ul class=backlinks><li>No backlinks found</li></ul></div></div><div id=contact_buttons><footer><p>Made by Jacky Zhao using <a href=https://github.com/jackyzha0/quartz>Quartz</a>, Â© 2022</p><ul><li><a href=/>Home</a></li><li><a href=https://twitter.com/_jzhao>Twitter</a></li><li><a href=https://github.com/jackyzha0>Github</a></li></ul></footer></div><script src=https://lzyerste.github.io/quartz/js/popover.e57188d2e4c06b0654e020b3a734bb62.min.js></script>
<script>initPopover("https://lzyerste.github.io/quartz")</script></div></body></html>