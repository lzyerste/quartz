---
title: 有向图和无向图的环检测_1ed12c8658204d7b9fead3cfe0df58f7
---

# 有向图和无向图的环检测

## 无向图

1. 并查集：检查每一条边的两个端点是否是相同的连通子图，如果是相同的，说明存在环。一开始每个节点都是独立的一个集合。边的表示只用(u, v)表示一次，不要再加上(v, u)。
2. DFS：使用邻接矩阵，只需要标记是否访问过，如果访问过且不是该节点的父节点（如果节点是自己也算），则有环；
    
    [Cycles in an Undirected Graph | Baeldung on Computer Science](https://www.baeldung.com/cs/cycles-undirected-graph)
    
3. BFS？
4. 类似拓扑排序，环上节点的入度都至少为2。每次消除入度为1的节点跟它的边，看最后是否有剩下。heap结构，如何decrease度数？额外保存入度信息即可，使用简单队列。

## 有向图

1. 拓扑排序：用一个队列记录入度为0的点，然后将他们去除时，另边的另一头节点的入度减一，不断记录入度为0的点，若最后没有入度不为0的点，则没有环，否则有环；不断的插入队尾，循环；
2. DFS：按照算法导论，给节点涂色，探索边(u, v)时，如果v的颜色是灰色，那么说明v是u的祖先，形成了环路。 [22.3 深度优先搜索，DFS](22%203%20深度优先搜索，DFS%20aac00a60b41843e69e21b8d45b8d99b8.md) 
3. BFS？